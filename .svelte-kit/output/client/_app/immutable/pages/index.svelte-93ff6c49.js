import{S as J,i as K,s as Q,l as v,r as E,a as y,m as b,n as I,u as N,h as _,c as j,p as u,b as w,K as f,Q as T,R as S,T as X,E as k,U as Z,V as ee,W as te,w as x,e as V,x as z,y as G,X as ae,f as D,t as W,B as M,L as le,Y as q}from"../chunks/index-1d289f89.js";import{T as ne}from"../chunks/Table-523fdc94.js";import{w as se}from"../chunks/index-61130842.js";function oe(i){let e,t,a,r,s,m,o,p,l,n,A,$,P,U,h,B,g,L,C,Y;return{c(){e=v("div"),t=v("label"),a=E("Name"),r=y(),s=v("input"),m=y(),o=v("label"),p=E("Type"),l=y(),n=v("input"),A=y(),$=v("label"),P=E("Age"),U=y(),h=v("input"),B=y(),g=v("input"),this.h()},l(d){e=b(d,"DIV",{class:!0});var c=I(e);t=b(c,"LABEL",{for:!0,class:!0});var H=I(t);a=N(H,"Name"),H.forEach(_),r=j(c),s=b(c,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,class:!0}),m=j(c),o=b(c,"LABEL",{for:!0,class:!0});var O=I(o);p=N(O,"Type"),O.forEach(_),l=j(c),n=b(c,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,class:!0}),A=j(c),$=b(c,"LABEL",{for:!0,class:!0});var R=I($);P=N(R,"Age"),R.forEach(_),U=j(c),h=b(c,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0}),B=j(c),g=b(c,"INPUT",{type:!0,class:!0}),c.forEach(_),this.h()},h(){u(t,"for","name"),u(t,"class","svelte-17xjivj"),u(s,"type","text"),u(s,"id","name"),u(s,"name","name"),u(s,"placeholder","Pet name.."),u(s,"class","svelte-17xjivj"),u(o,"for","type"),u(o,"class","svelte-17xjivj"),u(n,"type","text"),u(n,"id","type"),u(n,"name","type"),u(n,"placeholder","Cat/Dog"),u(n,"class","svelte-17xjivj"),u($,"for","age"),u($,"class","svelte-17xjivj"),u(h,"type","number"),u(h,"id","age"),u(h,"name","age"),u(h,"placeholder","1"),u(g,"type","submit"),g.value=L="Add "+i[0],u(g,"class","svelte-17xjivj"),u(e,"class","svelte-17xjivj")},m(d,c){w(d,e,c),f(e,t),f(t,a),f(e,r),f(e,s),T(s,i[0]),f(e,m),f(e,o),f(o,p),f(e,l),f(e,n),T(n,i[1]),f(e,A),f(e,$),f($,P),f(e,U),f(e,h),T(h,i[2]),f(e,B),f(e,g),C||(Y=[S(s,"input",i[4]),S(n,"input",i[5]),S(h,"input",i[6]),S(g,"click",i[3])],C=!0)},p(d,[c]){c&1&&s.value!==d[0]&&T(s,d[0]),c&2&&n.value!==d[1]&&T(n,d[1]),c&4&&X(h.value)!==d[2]&&T(h,d[2]),c&1&&L!==(L="Add "+d[0])&&(g.value=L)},i:k,o:k,d(d){d&&_(e),C=!1,Z(Y)}}}function re(i,e,t){const a=ee();let r="",s="",m=1;const o="/animals/";async function p(){let P=await(await fetch(o,{method:"POST",headers:new Headers([["Content-Type","application/json"]]),body:JSON.stringify({name:r,type:s,age:m})})).json();a("newAnimal",P)}function l(){r=this.value,t(0,r)}function n(){s=this.value,t(1,s)}function A(){m=X(this.value),t(2,m)}return[r,s,m,p,l,n,A]}class ie extends J{constructor(e){super(),K(this,e,re,oe,Q,{})}}const F=se([]);function ue(i){let e;return{c(){e=E("You have no pets added, Start by adding pets using the form above")},l(t){e=N(t,"You have no pets added, Start by adding pets using the form above")},m(t,a){w(t,e,a)},p:k,i:k,o:k,d(t){t&&_(e)}}}function ce(i){let e,t;return e=new ne({props:{animals:i[0]}}),{c(){x(e.$$.fragment)},l(a){z(e.$$.fragment,a)},m(a,r){G(e,a,r),t=!0},p(a,r){const s={};r&1&&(s.animals=a[0]),e.$set(s)},i(a){t||(D(e.$$.fragment,a),t=!0)},o(a){W(e.$$.fragment,a),t=!1},d(a){M(e,a)}}}function pe(i){let e;return{c(){e=E("Fetching ..")},l(t){e=N(t,"Fetching ..")},m(t,a){w(t,e,a)},p:k,i:k,o:k,d(t){t&&_(e)}}}function me(i){let e,t,a,r,s,m,o;r=new ie({}),r.$on("newAnimal",i[2]);let p={ctx:i,current:null,token:null,hasCatch:!0,pending:pe,then:ce,catch:ue,value:4,error:5,blocks:[,,,]};return te(i[1],p),{c(){e=v("h1"),t=E("Welcome to Pets Portal"),a=y(),x(r.$$.fragment),s=y(),m=V(),p.block.c()},l(l){e=b(l,"H1",{});var n=I(e);t=N(n,"Welcome to Pets Portal"),n.forEach(_),a=j(l),z(r.$$.fragment,l),s=j(l),m=V(),p.block.l(l)},m(l,n){w(l,e,n),f(e,t),w(l,a,n),G(r,l,n),w(l,s,n),w(l,m,n),p.block.m(l,p.anchor=n),p.mount=()=>m.parentNode,p.anchor=m,o=!0},p(l,[n]){i=l,ae(p,i,n)},i(l){o||(D(r.$$.fragment,l),D(p.block),o=!0)},o(l){W(r.$$.fragment,l);for(let n=0;n<3;n+=1){const A=p.blocks[n];W(A)}o=!1},d(l){l&&_(e),l&&_(a),M(r,l),l&&_(s),l&&_(m),p.block.d(l),p.token=null,p=null}}}function fe(i,e,t){let a;le(i,F,o=>t(0,a=o));const r="/animals/";console.log(r),console.log("getAnimals");const s=fetch(r).then(o=>o.json()).catch(o=>console.log(o));s.then(o=>q(F,a=o,a)).catch(o=>console.log(o));function m(o){console.log("New Animal Added "+o.detail.name),q(F,a=[...a,o.detail],a)}return[a,s,m]}class ve extends J{constructor(e){super(),K(this,e,fe,me,Q,{})}}export{ve as default};
