import{S as q,i as J,s as Q,l as v,r as E,a as g,m as b,n as I,u as N,h as _,c as j,p as u,b as w,K as f,Q as T,R as P,T as X,E as k,U as Z,V as ee,W as te,w as x,e as R,x as z,y as G,X as ae,f as D,t as K,B as M,L as le,Y as V}from"../chunks/index-1d289f89.js";import{T as ne}from"../chunks/Table-c6f2a576.js";import{w as se}from"../chunks/index-61130842.js";function oe(r){let e,t,a,i,s,m,o,p,l,n,A,$,S,U,h,B,y,L,C,W;return{c(){e=v("div"),t=v("label"),a=E("Name"),i=g(),s=v("input"),m=g(),o=v("label"),p=E("Type"),l=g(),n=v("input"),A=g(),$=v("label"),S=E("Age"),U=g(),h=v("input"),B=g(),y=v("input"),this.h()},l(d){e=b(d,"DIV",{class:!0});var c=I(e);t=b(c,"LABEL",{for:!0,class:!0});var Y=I(t);a=N(Y,"Name"),Y.forEach(_),i=j(c),s=b(c,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,class:!0}),m=j(c),o=b(c,"LABEL",{for:!0,class:!0});var H=I(o);p=N(H,"Type"),H.forEach(_),l=j(c),n=b(c,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,class:!0}),A=j(c),$=b(c,"LABEL",{for:!0,class:!0});var O=I($);S=N(O,"Age"),O.forEach(_),U=j(c),h=b(c,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0}),B=j(c),y=b(c,"INPUT",{type:!0,class:!0}),c.forEach(_),this.h()},h(){u(t,"for","name"),u(t,"class","svelte-17xjivj"),u(s,"type","text"),u(s,"id","name"),u(s,"name","name"),u(s,"placeholder","Pet name.."),u(s,"class","svelte-17xjivj"),u(o,"for","type"),u(o,"class","svelte-17xjivj"),u(n,"type","text"),u(n,"id","type"),u(n,"name","type"),u(n,"placeholder","Cat/Dog"),u(n,"class","svelte-17xjivj"),u($,"for","age"),u($,"class","svelte-17xjivj"),u(h,"type","number"),u(h,"id","age"),u(h,"name","age"),u(h,"placeholder","1"),u(y,"type","submit"),y.value=L="Add "+r[0],u(y,"class","svelte-17xjivj"),u(e,"class","svelte-17xjivj")},m(d,c){w(d,e,c),f(e,t),f(t,a),f(e,i),f(e,s),T(s,r[0]),f(e,m),f(e,o),f(o,p),f(e,l),f(e,n),T(n,r[1]),f(e,A),f(e,$),f($,S),f(e,U),f(e,h),T(h,r[2]),f(e,B),f(e,y),C||(W=[P(s,"input",r[4]),P(n,"input",r[5]),P(h,"input",r[6]),P(y,"click",r[3])],C=!0)},p(d,[c]){c&1&&s.value!==d[0]&&T(s,d[0]),c&2&&n.value!==d[1]&&T(n,d[1]),c&4&&X(h.value)!==d[2]&&T(h,d[2]),c&1&&L!==(L="Add "+d[0])&&(y.value=L)},i:k,o:k,d(d){d&&_(e),C=!1,Z(W)}}}function re(r,e,t){const a=ee();let i="",s="",m=1;const o="http://localhost:8080/";async function p(){let S=await(await fetch(o+"animals/",{method:"POST",headers:new Headers([["Content-Type","application/json"]]),body:JSON.stringify({name:i,type:s,age:m})})).json();a("newAnimal",S)}function l(){i=this.value,t(0,i)}function n(){s=this.value,t(1,s)}function A(){m=X(this.value),t(2,m)}return[i,s,m,p,l,n,A]}class ie extends q{constructor(e){super(),J(this,e,re,oe,Q,{})}}const F=se([]);function ue(r){let e;return{c(){e=E("You have no pets added, Start by adding pets using the form above")},l(t){e=N(t,"You have no pets added, Start by adding pets using the form above")},m(t,a){w(t,e,a)},p:k,i:k,o:k,d(t){t&&_(e)}}}function ce(r){let e,t;return e=new ne({props:{animals:r[0]}}),{c(){x(e.$$.fragment)},l(a){z(e.$$.fragment,a)},m(a,i){G(e,a,i),t=!0},p(a,i){const s={};i&1&&(s.animals=a[0]),e.$set(s)},i(a){t||(D(e.$$.fragment,a),t=!0)},o(a){K(e.$$.fragment,a),t=!1},d(a){M(e,a)}}}function pe(r){let e;return{c(){e=E("Fetching ..")},l(t){e=N(t,"Fetching ..")},m(t,a){w(t,e,a)},p:k,i:k,o:k,d(t){t&&_(e)}}}function me(r){let e,t,a,i,s,m,o;i=new ie({}),i.$on("newAnimal",r[2]);let p={ctx:r,current:null,token:null,hasCatch:!0,pending:pe,then:ce,catch:ue,value:4,error:5,blocks:[,,,]};return te(r[1],p),{c(){e=v("h1"),t=E("Welcome to SvelteKit"),a=g(),x(i.$$.fragment),s=g(),m=R(),p.block.c()},l(l){e=b(l,"H1",{});var n=I(e);t=N(n,"Welcome to SvelteKit"),n.forEach(_),a=j(l),z(i.$$.fragment,l),s=j(l),m=R(),p.block.l(l)},m(l,n){w(l,e,n),f(e,t),w(l,a,n),G(i,l,n),w(l,s,n),w(l,m,n),p.block.m(l,p.anchor=n),p.mount=()=>m.parentNode,p.anchor=m,o=!0},p(l,[n]){r=l,ae(p,r,n)},i(l){o||(D(i.$$.fragment,l),D(p.block),o=!0)},o(l){K(i.$$.fragment,l);for(let n=0;n<3;n+=1){const A=p.blocks[n];K(A)}o=!1},d(l){l&&_(e),l&&_(a),M(i,l),l&&_(s),l&&_(m),p.block.d(l),p.token=null,p=null}}}function fe(r,e,t){let a;le(r,F,o=>t(0,a=o));const i="http://localhost:8080/";console.log("getAnimals");const s=fetch(i+"animals/").then(o=>o.json());s.then(o=>V(F,a=o,a)).catch(o=>console.log(o));function m(o){console.log("New Animal Added "+o.detail.name),V(F,a=[...a,o.detail],a)}return[a,s,m]}class ve extends q{constructor(e){super(),J(this,e,fe,me,Q,{})}}export{ve as default};
